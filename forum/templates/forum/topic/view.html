{% extends "forum/base.html" %}

{% block title %}{{ topic.title }}{% endblock %}

{% block content %}
<div class="adjust-margin-top">
    <p style="float: right">
        <b>{{ topic.created | date:'Y-m-d H:i' }}</b>
    </p>
    <p style="float: left">
        <b>{{ topic.owner }}</b>
    </p><br><br>
    <p class="center-text">
        <b>{{ topic.title }}</b>
        <br><hr>
    </p>
    <p class="center-text">
        {{ topic.body}}
    </p>
</div>
{% endblock %}

{% block side %}
<div>
    {% if comments %}
    {% for comment in comments %}
        <hr>
        <p style="float: left">
            <b>{{ comment.owner }}</b>
        </p>
        <p style="float: right">
            <b>{{ comment.created | date:'Y-m-d H:i' }}</b>
        </p><br>
        <div style="clear: both" class="center-text">
            {{ comment.body }}
        </div>
    {% endfor %}
    <br>
    <div class="center-text">
      {% include "pagination.html" with page=comments %}
    </div><br>
    {% else %}
        <p class="center-text adjust-margin-top">No comments yet :(</p>
    {% endif %}
    <form method="post" action="{% url 'forum:topic_view' sectionName topic.title %}">
        {% csrf_token %}
        <input type="hidden" name="checker" value="True">
        {% for field in form %}
            {{ field }}
        {% endfor %}
        <div class="center-text">
            <br><button class="btn btn-outline-success my-2 my-sm-0" type="submit">Add topic</button>
        </div>
    </form>
</div>    
{% endblock %}